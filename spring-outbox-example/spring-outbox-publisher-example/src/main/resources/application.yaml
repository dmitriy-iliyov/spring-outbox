spring:
  application:
    name: spring-outbox-example
  datasource:
    url: jdbc:postgresql://localhost:5432/outbox_example
    username: admin
    password: root
    driver-class-name: org.postgresql.Driver
  jpa:
    hibernate:
      ddl-auto: create
logging:
  level:
    root: debug
outbox:
  sender:
    type: kafka
  thread-pool-size: 5

  defaults:
    batch-size: 100
    initial-delay: 30s
    max-retries: 3
    backoff:
      delay: 1m
      multiplier: 1

  events:
    create-order:
      topic: orders.created
      batch-size: 100
      fixed-delay: 1s
    update-order:
      topic: orders.updated
      batch-size: 50
      fixed-delay: 1s
    delete-order:
      topic: orders.deleted
      batch-size: 50
      fixed-delay: 10s

  clean-up:
    enabled: true
    batch-size: 100
    threshold: 1h
    initial-delay: 2m
    fixed-delay: 2s

  stuck-recovery:
    batch-size: 100
    initial-delay: 2m
    fixed-delay: 30m

  dlq:
    enabled: true
    batch-size: 100
    transfer-to-initial-delay: 2m
    transfer-to-fixed-delay: 1s
    transfer-from-initial-delay: 2m
    transfer-from-fixed-delay: 1h

  migration:
    enabled: true
    location: classpath:db/migration/outbox
    table: outbox_migration_schema